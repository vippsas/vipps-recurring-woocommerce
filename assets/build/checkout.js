(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var c in t)e.o(t,c)&&!e.o(r,c)&&Object.defineProperty(r,c,{enumerable:!0,get:t[c]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=window.React,t=window.wp.element,c=window.wp.apiFetch;var o,n,a=e.n(c);document.getElementById("vipps-mobilepay-recurring-checkout")&&(o=document.querySelector("#vipps-mobilepay-recurring-checkout"),n=(0,r.createElement)((function(){const{pendingOrderId:e,data:c}=window.VippsRecurringCheckout,[o,n]=(0,t.useState)(!!c.session),[s,i]=(0,t.useState)(c.session);(0,t.useEffect)((()=>{o||(p(),n(!0))}),[s,o]);const p=(0,t.useCallback)((()=>{a()({path:"/vipps-mobilepay-recurring/v1/checkout/session",method:"POST"}).then((e=>i(e)))}),[e]);return console.log("[Vipps/MobilePay Recurring Checkout]: ",e,s),(0,r.createElement)("form",{id:"vippsdata",className:"woocommerce-checkout"},(0,r.createElement)("div",{className:"vipps-recurring-checkout-page"},(0,r.createElement)("div",{className:"vipps-recurring-checkout-page__loading"},!s.src&&(0,r.createElement)("div",{className:"vipps-recurring-checkout-page__loading__spinner"}),s.src&&(0,r.createElement)("iframe",{src:s.src,frameborder:"0"}))))}),null),t.createRoot?(0,t.createRoot)(o).render(n):(0,t.render)(n,o))})();